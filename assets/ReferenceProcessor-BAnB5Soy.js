import{d as N,z as b,c as k,a as t,e as s,f as n,w as l,u as d,x as h,r as p,Q as B,m as T,A as V,R as j,y as A,L as E,j as O,t as m,F as P,i as S,o as _,P as x,_ as Z}from"./index-H4-aorhR.js";const F={class:"reference-processor-page animate-fade-in"},$={class:"page-header"},M={class:"title-section"},Q={class:"page-title gradient-text-premium"},q={class:"content-grid"},G={class:"input-section"},H={class:"card-premium"},J={class:"card-header-premium"},K={class:"card-title-premium"},W={class:"header-actions"},X={class:"options-group"},Y={class:"checkbox-wrapper"},ee={class:"output-section"},te={class:"card-premium"},se={class:"card-header-premium"},le={class:"card-title-premium"},oe={key:0,class:"header-actions"},ae={class:"result-container"},ne={key:0,class:"stats-preview animate-slide-down"},ie={class:"stat-item"},re={class:"stat-value"},de={class:"stat-item"},ue={class:"stat-value text-success"},ce={class:"stat-item"},pe={class:"stat-value"},me={class:"guide-section card-premium"},_e={class:"steps-grid"},ve={class:"step-num"},fe={class:"step-content"},ge=N({__name:"ReferenceProcessor",setup(be){const v=b(""),i=b(""),u=b(["removeDOI","removeNumber"]),c=b({total:0,processed:0,rate:0}),R=[{title:"粘贴文献",description:"将需要处理的参考文献批量粘贴到左侧输入框。"},{title:"个性化选型",description:"根据需求选择是否保留 DOI、编号或清理多余空格。"},{title:"智能处理",description:"点击开始处理，系统将在毫秒内完成格式规范化。"},{title:"一键导出",description:"通过复制或下载，将规范后的文献直接应用到论文中。"}],U=()=>{v.value="",i.value="",c.value={total:0,processed:0,rate:0}},z=()=>{if(!v.value.trim()){x.warning("请先输入参考文献");return}const f=v.value.split(`
`).filter(o=>o.trim());let e=f.map(o=>{let a=o;return u.value.includes("removeNumber")&&(a=a.replace(/^\[\d+\]\s*/,"").replace(/^\d+\.\s*/,"")),u.value.includes("removeDOI")&&(a=a.replace(/DOI:\s*[\d.\/a-zA-Z-]+/gi,"").replace(/doi:\s*[\d.\/a-zA-Z-]+/gi,"").replace(/https?:\/\/doi\.org\/[\d.\/a-zA-Z-]+/gi,"")),u.value.includes("removeURL")&&(a=a.replace(/https?:\/\/[^\s]+/gi,"")),u.value.includes("trimSpaces")&&(a=a.replace(/\s+/g," ").trim().replace(/\s+([.,;:])/g,"$1")),a});i.value=e.join(`
`),c.value={total:f.length,processed:e.length,rate:100},x.success("智能处理完成")},D=()=>{i.value&&(navigator.clipboard.writeText(i.value),x.success("结果已复制到剪贴板"))},I=()=>{if(i.value){const f=new Blob([i.value],{type:"text/plain;charset=utf-8"}),e=URL.createObjectURL(f),o=document.createElement("a");o.href=e,o.download=`processed-references-${new Date().getTime()}.txt`,o.click(),URL.revokeObjectURL(e),x.success("文件下载成功")}};return(f,e)=>{const o=p("el-icon"),a=p("el-button"),y=p("el-input"),g=p("el-checkbox"),L=p("el-checkbox-group"),C=p("el-empty");return _(),k("div",F,[t("div",$,[t("div",M,[t("h1",Q,[s(o,{class:"title-icon"},{default:l(()=>[s(d(h))]),_:1}),e[3]||(e[3]=n(" 参考文献 智能处理 ",-1))]),e[4]||(e[4]=t("p",{class:"page-subtitle"},"批量处理参考文献，一键去除 DOI、编号及冗余信息，规范学术引用",-1))])]),t("div",q,[t("div",G,[t("div",H,[t("div",J,[t("span",K,[s(o,null,{default:l(()=>[s(d(B))]),_:1}),e[5]||(e[5]=n(" 输入文献 ",-1))]),t("div",W,[s(a,{onClick:U,class:"round-btn"},{default:l(()=>[...e[6]||(e[6]=[n("清空",-1)])]),_:1}),s(a,{type:"primary",onClick:z,class:"round-btn-primary"},{default:l(()=>[s(o,null,{default:l(()=>[s(d(T))]),_:1}),e[7]||(e[7]=n(" 开始处理 ",-1))]),_:1})])]),s(y,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=r=>v.value=r),type:"textarea",rows:18,placeholder:"请粘贴您的参考文献...",class:"premium-textarea"},null,8,["modelValue"]),t("div",X,[e[12]||(e[12]=t("h3",{class:"group-title"},"处理选项",-1)),t("div",Y,[s(L,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=r=>u.value=r)},{default:l(()=>[s(g,{label:"removeDOI",border:"",size:"large"},{default:l(()=>[...e[8]||(e[8]=[n("去除 DOI",-1)])]),_:1}),s(g,{label:"removeNumber",border:"",size:"large"},{default:l(()=>[...e[9]||(e[9]=[n("去除编号",-1)])]),_:1}),s(g,{label:"removeURL",border:"",size:"large"},{default:l(()=>[...e[10]||(e[10]=[n("去除 URL",-1)])]),_:1}),s(g,{label:"trimSpaces",border:"",size:"large"},{default:l(()=>[...e[11]||(e[11]=[n("清理空格",-1)])]),_:1})]),_:1},8,["modelValue"])])])])]),t("div",ee,[t("div",te,[t("div",se,[t("span",le,[s(o,null,{default:l(()=>[s(d(j))]),_:1}),e[13]||(e[13]=n(" 处理结果 ",-1))]),i.value?(_(),k("div",oe,[s(a,{onClick:D,class:"round-btn"},{default:l(()=>[s(o,null,{default:l(()=>[s(d(A))]),_:1}),e[14]||(e[14]=n(" 复制 ",-1))]),_:1}),s(a,{onClick:I,class:"round-btn"},{default:l(()=>[s(o,null,{default:l(()=>[s(d(E))]),_:1}),e[15]||(e[15]=n(" 下载 ",-1))]),_:1})])):V("",!0)]),t("div",ae,[i.value?(_(),O(y,{key:1,modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=r=>i.value=r),type:"textarea",rows:18,readonly:"",class:"premium-textarea result-textarea"},null,8,["modelValue"])):(_(),O(C,{key:0,description:"等待处理您的文献..."},{image:l(()=>[s(o,{size:80,class:"empty-icon"},{default:l(()=>[s(d(h))]),_:1})]),_:1}))]),c.value.total>0?(_(),k("div",ne,[t("div",ie,[e[16]||(e[16]=t("span",{class:"stat-label"},"总条数",-1)),t("span",re,m(c.value.total),1)]),t("div",de,[e[17]||(e[17]=t("span",{class:"stat-label"},"已处理",-1)),t("span",ue,m(c.value.processed),1)]),t("div",ce,[e[18]||(e[18]=t("span",{class:"stat-label"},"处理率",-1)),t("span",pe,m(c.value.rate)+"%",1)])])):V("",!0)])])]),t("div",me,[e[19]||(e[19]=t("h3",{class:"section-title"},"使用指南",-1)),t("div",_e,[(_(),k(P,null,S(R,(r,w)=>t("div",{key:w,class:"step-item"},[t("div",ve,m(w+1),1),t("div",fe,[t("h4",null,m(r.title),1),t("p",null,m(r.description),1)])])),64))])])])}}}),xe=Z(ge,[["__scopeId","data-v-025d5589"]]);export{xe as default};
